#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã IoT Device Simulator

echo "üöÄ IoT Device Simulator Demo"
echo "============================"
echo ""

# –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É
echo "1. –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:"
echo "----------------------------------------"
node app/iot-device-simulator/dist/main.js --help 2>/dev/null || echo "–°–ø—Ä–∞–≤–∫–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:"
echo ""
echo "üîß –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:"
echo "  --user-id <id>        ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
echo "  --device-id <id>      ID —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞"
echo ""
echo "üîß –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:"
echo "  --mqtt-host <host>    MQTT –±—Ä–æ–∫–µ—Ä (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: localhost)"
echo "  --mqtt-port <port>    MQTT –ø–æ—Ä—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 1883)"
echo "  --qos <0|1|2>         QoS —É—Ä–æ–≤–µ–Ω—å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 1)"
echo ""

echo "2. –ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞:"
echo "-------------------"
echo "node app/iot-device-simulator/dist/main.js --user-id demo-user --device-id demo-device-001"
echo ""

echo "3. –ü—Ä–∏–º–µ—Ä —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π MQTT:"
echo "-----------------------------"
echo "node app/iot-device-simulator/dist/main.js \\"
echo "  --user-id demo-user \\"
echo "  --device-id demo-device-001 \\"
echo "  --mqtt-host broker.example.com \\"
echo "  --mqtt-port 1883 \\"
echo "  --qos 2"
echo ""

echo "4. –ü—Ä–∏–º–µ—Ä —Å mTLS:"
echo "------------------"
echo "node app/iot-device-simulator/dist/main.js \\"
echo "  --user-id demo-user \\"
echo "  --device-id demo-device-001 \\"
echo "  --use-tls true \\"
echo "  --cert-path ./certs/devices/working-device-cert.pem \\"
echo "  --key-path ./certs/devices/working-device-key.pem \\"
echo "  --ca-path ./certs/devices/ca-cert.pem"
echo ""

echo "üìã –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Å–∏–º—É–ª—è—Ç–æ—Ä–∞:"
echo "-------------------------------"
echo "‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ MQTT –±—Ä–æ–∫–µ—Ä—É"
echo "‚úÖ –°–∏–º—É–ª—è—Ü–∏—è –¥–∞—Ç—á–∏–∫–æ–≤ (—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, –≤–ª–∞–∂–Ω–æ—Å—Ç—å, –¥–∞–≤–ª–µ–Ω–∏–µ)"
echo "‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ RPC –∫–æ–º–∞–Ω–¥ —á–µ—Ä–µ–∑ MQTT"
echo "‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∞–π–º–µ—Ä–∞–º–∏ (–¥–∏—Å–∫—Ä–µ—Ç–Ω—ã–µ –∏ –∞–Ω–∞–ª–æ–≥–æ–≤—ã–µ)"
echo "‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–≥—É–ª—è—Ç–æ—Ä–∞–º–∏ (PID –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã)"
echo "‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Ä—Ä–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏"
echo "‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ mTLS –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏"
echo "‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å–µ–Ω—Å–æ—Ä–æ–≤"
echo ""

echo "üîß –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ Nx:"
echo "-----------------------------------"
echo "npx nx build iot-device-simulator    # –°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"
echo "npx nx test iot-device-simulator     # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤"
echo "npx nx lint iot-device-simulator     # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞"
echo ""

echo "‚ú® –ì–æ—Ç–æ–≤–æ! –°–∏–º—É–ª—è—Ç–æ—Ä —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ —Å–æ–∑–¥–∞–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é."
